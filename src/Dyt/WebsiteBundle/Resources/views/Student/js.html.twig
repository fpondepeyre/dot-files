<script>
    function add() {
        var collectionHolder = $('#classroom_students');
        var prototype = collectionHolder.attr('data-prototype');
        form = prototype.replace(/\$\$name\$\$/g, collectionHolder.children().length);
        form =  $(form).filter('div').first().html($(form).html());
        collectionHolder.append(form);
    }
    
    $('a.jslink').click(function(event){
        event.preventDefault();
        add();
    });
    
    $(document).on('click', 'a.delete_link',function(event){
        $(event.currentTarget).parent().parent().remove();
    });
</script>